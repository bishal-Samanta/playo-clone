<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles/loginsignupPopup.css">
    <title>login signup Popup</title>
</head>
<body>
    <button id="open">
        click me please
    </button>

    <div id="modal_container">

        <div id="modal">
            <img id="close" src="https://playo-website.gumlet.net/playo_functional/Icons/closeButton.svg" alt="">

            <div id="login_left_div">
                <img width="100%" src="https://playo-website.gumlet.net/icons/login-graphics.png?auto=compress,format" alt="">
            </div>
            <div id="login_right_div">
                <p id="entermobile">Enter Your Mobile Number</p>

                <div id="user_phone_div">
                    <div>
                        <div id="countrySpan">
                            <span>
                                <div id="selectCallingCode">
                                    <span style="font-size: 14px; color: #424242;">IND</span>
                                    <span style="font-size: 14px; color: #424242;">+91</span>
                                    <img id="countryDrop" src="https://s3.ap-south-1.amazonaws.com/playo-website/booking/selectCountry.svg" alt="dropdown">
                                </div>
                            </span>
                        </div>
                    </div>
                    <span>
                        <input id="input" type="number" placeholder="Mobile Number *" value="">
                        <hr style="margin-top: -1px; margin-left: -65%; width: 220%;">
                    </span>
                    
                </div>

                <button id="sendOTP" style="font-size: 1em;">SEND OTP</button>
            </div>
        </div>
    </div>
</body>
</html>

<script type="module">

    const open = document.getElementById("open");
    const modal_container = document.getElementById("modal_container");
    const close = document.getElementById("close");

    open.addEventListener("click", ()=>{
        modal_container.classList.add("show")
    })

    close.addEventListener("click", ()=>{
        modal_container.classList.remove("show")
    })
    
//     $(document).ready(function () {
//        $("#<%=#open.ClientID%>").click(function () {
//            $("#modal_container").slideDown(5000);
//        });
//    });


    //send otp color change functionality

    let input = document.getElementById("input").value;
    console.log(input)
    let sendOTP = document.getElementById("sendOTP");

    if(input.length === 10){
        document.getElementById("sendOTP").style.backgroundColor = "#ff9e00";
    }



    // import apicall from "./components/apicall.js"

    // let response = apicall("https://d7-verify.p.rapidapi.com/?rapidapi-key=62e6d96507msha551c23c0b1e828p109f24jsnebb6e7d5f282");
    // console.log('response:', response);

    // response
    //     .then((res)=>{
    //     console.log('res:', res)

    //     })
    //     .catch((err)=>{
    //     console.log('err:', err)

    //     })

    fetch("https://d7-verify.p.rapidapi.com/send", {
        "method": "POST",
        "headers": {
            "content-type": "application/json",
            "authorization": "undefined",
            "x-rapidapi-host": "d7-verify.p.rapidapi.com",
            "x-rapidapi-key": "62e6d96507msha551c23c0b1e828p109f24jsnebb6e7d5f282"
        },
        "body": {
            "expiry": 900,
            "message": "Your otp code is {code}",
            "mobile": 7001689064,
            "sender_id": "SMSInfo"
        }
    })
    .then(response => {
        console.log(response);
    })
    .catch(err => {
        console.error(err);
    });

</script>